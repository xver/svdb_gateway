<!DOCTYPE html>

<html class="NDPage NDContentPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>design.sv</title><link rel="stylesheet" type="text/css" href="../../../../styles/main.css" /><script type="text/javascript" src="../../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.3.1 -->

<body onload="NDLoader.OnLoad('Content');">

<script type="text/javascript">var q = window.location.search;if (q.startsWith("?Theme=")){var t = q.slice(7);var e = t.indexOf(";");if (e != -1){  t = t.slice(0, e);  }document.documentElement.classList.add(t + "Theme")}</script>

<a name="design.sv"></a><a name="Topic89"></a><div class="CTopic TFile LSystemVerilog first">
 <div class="CTitle">design.sv</div>
 <div class="CBody"><p>Copyright (c) 2025 IC Verimeter. All rights reserved.</p><p>Licensed under the MIT License.</p><p>See LICENSE file in the project root for full license information.</p><p>Description: Register block DUT implementing REGBUS protocol interface</p></div>
</div>

<a name="register_block_dut"></a><a name="Topic90"></a><div class="CTopic TModule LSystemVerilog">
 <div class="CTitle">register_block_dut</div>
 <div class="CBody"><p>Register block DUT implementing REGBUS protocol interface</p><p>This module implements a register block that responds to REGBUS protocol transactions.&nbsp; The REGBUS interface is APB-like (Advanced Peripheral Bus-like) with peripheral select, enable, and handshake signals. It contains various registers with different access types (RO, WO, RW, RW1) and implements proper error handling for invalid operations.</p><div class="CHeading">Ports</div><table class="CDefinitionList"><tr><td class="CDLEntry">pclk</td><td class="CDLDefinition"><p>Clock signal</p></td></tr><tr><td class="CDLEntry">rst_n</td><td class="CDLDefinition"><p>Active-low reset signal</p></td></tr><tr><td class="CDLEntry">paddr</td><td class="CDLDefinition"><p>Address bus</p></td></tr><tr><td class="CDLEntry">psel</td><td class="CDLDefinition"><p>Peripheral select signal</p></td></tr><tr><td class="CDLEntry">penable</td><td class="CDLDefinition"><p>Peripheral enable signal</p></td></tr><tr><td class="CDLEntry">pwrite</td><td class="CDLDefinition"><p>Write/read control signal</p></td></tr><tr><td class="CDLEntry">pwdata</td><td class="CDLDefinition"><p>Write data bus</p></td></tr><tr><td class="CDLEntry">pready</td><td class="CDLDefinition"><p>Peripheral ready signal</p></td></tr><tr><td class="CDLEntry">prdata</td><td class="CDLDefinition"><p>Read data bus</p></td></tr><tr><td class="CDLEntry">pslverr</td><td class="CDLDefinition"><p>Slave error signal</p></td></tr></table></div>
</div>

<a name="Address_and_range_parameters"></a><a name="Topic91"></a><div class="CTopic TSection LSystemVerilog">
 <div class="CTitle">Address and range parameters</div>
 <div class="CBody"><p>Defines the base address and address range for the register block</p></div>
</div>

<a name="Register_offset_parameters"></a><a name="Topic92"></a><div class="CTopic TSection LSystemVerilog">
 <div class="CTitle">Register offset parameters</div>
 <div class="CBody"><p>Defines the address offsets for each register in the block</p></div>
</div>

<a name="Internal_register_storage"></a><a name="Topic93"></a><div class="CTopic TSection LSystemVerilog">
 <div class="CTitle">Internal register storage</div>
 <div class="CBody"><p>Internal registers with different access types</p></div>
</div>

<a name="Variables"></a><a name="Topic94"></a><div class="CTopic TGroup LSystemVerilog">
 <div class="CTitle">Variables</div>
</div>

<a name="status_register"></a><a name="Topic95"></a><div class="CTopic TVariable LSystemVerilog">
 <div class="CTitle">status_register</div>
 <div id="NDPrototype95" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">logic</span> [<span class="SHNumber">31</span>:<span class="SHNumber">0</span>] status_register</div></div>
 <div class="CBody"><p>Read-only status register containing system status information. This register holds the system_ready bit and other status indicators. Can only be read by the bus interface, writes are ignored and generate error responses.</p><p>Size: 32 bits Type: logic [31:0] Access: Read-only Reset Value: 32'h0000_0000 (system_ready=0)</p><div class="CHeading">Example</div><pre class="CText">Read operation: prdata = status_register<br />Write operation: Generates pslverr = 1'b1</pre></div>
</div>

<a name="control_register"></a><a name="Topic96"></a><div class="CTopic TVariable LSystemVerilog">
 <div class="CTitle">control_register</div>
 <div id="NDPrototype96" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">logic</span> [<span class="SHNumber">31</span>:<span class="SHNumber">0</span>] control_register</div></div>
 <div class="CBody"><p>Write-only control register containing system control bits. This register holds the reset_system bit and other control signals. Can only be written by the bus interface, reads generate error responses.</p><p>Size: 32 bits Type: logic [31:0] Access: Write-only Reset Value: 32'h0000_0001 (reset_system=1)</p><div class="CHeading">Example</div><pre class="CText">Write operation: control_register &lt;= pwdata<br />Read operation: Generates pslverr = 1'b1</pre></div>
</div>

<a name="configuration_register"></a><a name="Topic97"></a><div class="CTopic TVariable LSystemVerilog">
 <div class="CTitle">configuration_register</div>
 <div id="NDPrototype97" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">logic</span> [<span class="SHNumber">31</span>:<span class="SHNumber">0</span>] configuration_register</div></div>
 <div class="CBody"><p>Read/write configuration register containing system configuration settings.&nbsp; This register holds the operation_mode field and other configuration bits.&nbsp; Supports both read and write operations through the bus interface.</p><p>Size: 32 bits Type: logic [31:0] Access: Read/Write Reset Value: 32'h0000_0002 (operation_mode=2)</p><div class="CHeading">Example</div><pre class="CText">Read operation: prdata = configuration_register<br />Write operation: configuration_register &lt;= pwdata</pre></div>
</div>

<a name="security_register"></a><a name="Topic98"></a><div class="CTopic TVariable LSystemVerilog">
 <div class="CTitle">security_register</div>
 <div id="NDPrototype98" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">logic</span> [<span class="SHNumber">31</span>:<span class="SHNumber">0</span>] security_register</div></div>
 <div class="CBody"><p>Read/write-once security register containing security level settings.&nbsp; This register can only be written once after reset. Subsequent write attempts are ignored. Read operations always return the current value.</p><p>Size: 32 bits Type: logic [31:0] Access: Read/Write-once Reset Value: 32'h0000_0003 (security_level=3)</p><div class="CHeading">Example</div><pre class="CText">Read operation: prdata = security_register<br />Write operation: Only allowed once after reset</pre></div>
</div>

<a name="status_flags"></a><a name="Topic99"></a><div class="CTopic TVariable LSystemVerilog">
 <div class="CTitle">status_flags</div>
 <div id="NDPrototype99" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">logic</span> [<span class="SHNumber">7</span>:<span class="SHNumber">0</span>] status_flags</div></div>
 <div class="CBody"><p>Read-only status flags register containing various status indicators and error flags. This 8-bit register provides detailed status information and is zero-extended to 32 bits when read.</p><p>Size: 8 bits Type: logic [7:0] Access: Read-only Reset Value: 8'h0A</p><div class="CHeading">Example</div><pre class="CText">Read operation: prdata = {24'h0, status_flags}<br />Write operation: Generates pslverr = 1'b1</pre></div>
</div>

<a name="control_bits"></a><a name="Topic100"></a><div class="CTopic TVariable LSystemVerilog">
 <div class="CTitle">control_bits</div>
 <div id="NDPrototype100" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">logic</span> [<span class="SHNumber">3</span>:<span class="SHNumber">0</span>] control_bits</div></div>
 <div class="CBody"><p>Read/write control bits register containing fine-grained control signals.&nbsp; This 4-bit register provides additional control capabilities and is zero-extended to 32 bits when read.</p><p>Size: 4 bits Type: logic [3:0] Access: Read/Write Reset Value: 4'h7</p><div class="CHeading">Example</div><pre class="CText">Read operation: prdata = {28'h0, control_bits}<br />Write operation: control_bits &lt;= pwdata[3:0]</pre></div>
</div>

<a name="security_written"></a><a name="Topic101"></a><div class="CTopic TVariable LSystemVerilog last">
 <div class="CTitle">security_written</div>
 <div id="NDPrototype101" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">logic</span> security_written</div></div>
 <div class="CBody"><p>Flag to track if the security_register has been written once after reset.&nbsp; This signal prevents multiple writes to the write-once security register.&nbsp; Set to 1'b1 after the first write to security_register.</p><p>Size: 1 bit Type: logic Access: Internal control signal Reset Value: 1'b0</p><div class="CHeading">Example</div><pre class="CText">Check: if (!security_written) begin<br />Set: security_written &lt;= 1'b1</pre></div>
</div>

</body></html>